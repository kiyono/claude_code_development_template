# ADR-0001: RabbitMQ をメッセージブローカーとして採用

## ステータス

承認済み

## コンテキスト

マイクロサービス間で非同期メッセージを交換するためのメッセージブローカーが必要である。現在、サービス間通信はすべて同期的なHTTP呼び出しで行われており、以下の問題が発生している：

- サービス障害時の連鎖的な障害
- ピーク時のレスポンス低下
- リトライ処理の複雑化

チームにはRabbitMQの運用経験があるメンバーが2名いる。AWSのマネージドサービス（Amazon MQ）も利用可能である。

## 決定

我々はRabbitMQをメッセージブローカーとして採用する。Amazon MQ（RabbitMQ互換）を使用してマネージドサービスとして運用する。

## 影響

- サービス間の疎結合が実現し、障害の連鎖を防げる
- 非同期処理によりピーク時の負荷を平準化できる
- チームの既存知識を活用できる
- 運用コストが発生する（Amazon MQ: 約$50/月〜）
- メッセージの順序保証や重複排除の設計が必要になる
- 監視・アラートの設定が追加で必要になる
